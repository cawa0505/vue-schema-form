{"version":3,"sources":["webpack:///./node_modules/lodash.sum/index.js","webpack:///./src/views/demo/element/default.vue?8223","webpack:///./src/views/demo/element/default.vue?ce7b","webpack:///./src/views/demo/element/default.vue?b119","webpack:///./src/views/demo/element/default.vue"],"names":["baseSum","array","iteratee","result","index","length","current","undefined","identity","value","sum","module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","effects","schema","model","callback","$$v","expression","staticRenderFns","props","labelWidth","fields","text","title","type","placeholder","default","select","enum","label","date","calc","editable","sub","arrayComponent","num","description","registerElement","$","onFieldCreateOrChange","v","months","Date","getFullYear","getMonth","year","Math","floor","month","name","components","ShowValue","component"],"mappings":"mGAiBA,SAASA,EAAQC,EAAOC,GACtB,IAAIC,EACAC,GAAS,EACTC,EAASJ,EAAMI,OAEnB,QAASD,EAAQC,EAAQ,CACvB,IAAIC,EAAUJ,EAASD,EAAMG,SACbG,IAAZD,IACFH,OAAoBI,IAAXJ,EAAuBG,EAAWH,EAASG,GAGxD,OAAOH,EAkBT,SAASK,EAASC,GAChB,OAAOA,EAgBT,SAASC,EAAIT,GACX,OAAQA,GAASA,EAAMI,OACnBL,EAAQC,EAAOO,GACf,EAGNG,EAAOC,QAAUF,G,2CCrEjB,IAAIG,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,YAAY,CAACE,YAAY,WAAW,CAACF,EAAG,oBAAoB,CAACE,YAAY,gBAAgB,CAACF,EAAG,gBAAgB,CAACG,MAAM,CAAC,QAAUP,EAAIQ,QAAQ,OAASR,EAAIS,QAAQC,MAAM,CAACf,MAAOK,EAAS,MAAEW,SAAS,SAAUC,GAAMZ,EAAIL,MAAMiB,GAAKC,WAAW,WAAWT,EAAG,aAAa,CAACG,MAAM,CAAC,MAAQP,EAAIL,UAAU,IAAI,IACxYmB,EAAkB,G,sJCsBD,EAArB,YAJA,iD,+DAMS,EAAAL,OAA0B,CAC/BM,MAAO,CACLC,WAAY,SAEdC,OAAQ,CACNC,KAAM,CACJC,MAAO,MACPC,KAAM,SACNC,YAAa,MACbC,QAAS,OAEXC,OAAQ,CACNJ,MAAO,MACPC,KAAM,SACNI,KAAM,CAAC,CAACC,MAAO,IAAK9B,MAAO,GAAI,CAAC8B,MAAO,IAAK9B,MAAO,IACnD2B,QAAS,GAEXI,KAAM,CACJP,MAAO,KACPC,KAAM,QAERO,KAAM,CACJC,UAAU,EACVT,MAAO,WACPC,KAAM,SACNE,QAAS,OAEXO,IAAK,CACHT,KAAM,SACND,MAAO,MACPhC,OAAO,EACP2C,eAAgB,QAChBb,OAAQ,CACNc,IAAK,CACHX,KAAM,SACND,MAAO,QAIbvB,IAAK,CACHgC,UAAU,EACVT,MAAO,MACPa,YAAa,WACbrC,MAAO,EACPyB,KAAM,YAKL,EAAAzB,MAAQ,GAvDjB,EAIA,6EAsDI,OAAWsC,oBAtDf,8BAyDiBC,GACbA,EAAE,QAAQC,sBAAsB,SAACC,GAC/B,GAAIA,EAAG,CACL,IAAMC,EAAwD,KAA9C,IAAIC,MAAOC,cAAgBH,EAAEG,gBAAsB,IAAID,MAAOE,WAAaJ,EAAEI,WACvFC,EAAOC,KAAKC,MAAMN,EAAS,IAC3BO,EAAQP,EAAS,GACvBH,EAAE,QAAQvC,MAAM8C,EAAO,IAAMG,EAAQ,WAErCV,EAAE,QAAQvC,MAAM,OAGpBuC,EAAE,aAAaC,sBAAsB,SAACC,GACpCF,EAAE,OAAOvC,MAAM,IAAIuC,EAAE,aAAavC,gBArExC,GAA0C,KAArB,EAAY,QAJhC,eAAU,CACTkD,KAAM,UACNC,WAAY,CAACC,UAAA,WAEM,WCvBiZ,I,YCOlaC,EAAY,eACd,EACAjD,EACAe,GACA,EACA,KACA,WACA,MAIa,aAAAkC,E","file":"js/chunk-dc680be8.f791ae6d.js","sourcesContent":["/**\n * lodash 4.0.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * The base implementation of `_.sum` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {number} Returns the sum.\n */\nfunction baseSum(array, iteratee) {\n  var result,\n      index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var current = iteratee(array[index]);\n    if (current !== undefined) {\n      result = result === undefined ? current : (result + current);\n    }\n  }\n  return result;\n}\n\n/**\n * This method returns the first argument provided to it.\n *\n * @static\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'user': 'fred' };\n *\n * _.identity(object) === object;\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * Computes the sum of the values in `array`.\n *\n * @static\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {number} Returns the sum.\n * @example\n *\n * _.sum([4, 2, 8, 6]);\n * // => 20\n */\nfunction sum(array) {\n  return (array && array.length)\n    ? baseSum(array, identity)\n    : 0;\n}\n\nmodule.exports = sum;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ae-layout',{staticClass:\"bg-whte\"},[_c('ae-layout-content',{staticClass:\"demo-wrapper\"},[_c('v-schema-form',{attrs:{\"effects\":_vm.effects,\"schema\":_vm.schema},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('show-value',{attrs:{\"value\":_vm.value}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\nimport SchemaForm from '@/schema-form';\nimport ShowValue from '@/views/demo/show-value';\nimport sum from 'lodash.sum';\nimport {EffectsContext, SchemaFormField} from 'v-schema-form-types';\nimport Vue from 'vue';\nimport Component from 'vue-class-component';\n\n@Component({\n  name: 'default',\n  components: {ShowValue}\n})\nexport default class DefaultValue extends Vue {\n\n  public schema: SchemaFormField = {\n    props: {\n      labelWidth: '150px'\n    },\n    fields: {\n      text: {\n        title: '字段1',\n        type: 'string',\n        placeholder: '请输入',\n        default: 'abc'\n      },\n      select: {\n        title: '字段2',\n        type: 'select',\n        enum: [{label: '1', value: 1}, {label: '2', value: 2}],\n        default: 2\n      },\n      date: {\n        title: '日期',\n        type: 'date'\n      },\n      calc: {\n        editable: false,\n        title: '工龄（自动计算）',\n        type: 'string',\n        default: '111'\n      },\n      sub: {\n        type: 'object',\n        title: '子表单',\n        array: true,\n        arrayComponent: 'block',\n        fields: {\n          num: {\n            type: 'number',\n            title: '金额'\n          }\n        }\n      },\n      sum: {\n        editable: false,\n        title: '总金额',\n        description: '子表单金额的总和',\n        value: 0,\n        type: 'number'\n      }\n    }\n  };\n\n  public value = {};\n\n  public created() {\n    SchemaForm.registerElement();\n  }\n\n  public effects($: EffectsContext) {\n    $('date').onFieldCreateOrChange((v: Date) => {\n      if (v) {\n        const months = (new Date().getFullYear() - v.getFullYear()) * 12 + new Date().getMonth() - v.getMonth();\n        const year = Math.floor(months / 12);\n        const month = months % 12;\n        $('calc').value(year + '年' + month + '个月');\n      } else {\n        $('calc').value('-');\n      }\n    });\n    $('sub.?.num').onFieldCreateOrChange((v) => {\n      $('sum').value(sum($('sub.?.num').value()));\n    });\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./default.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./default.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./default.vue?vue&type=template&id=46afbe28&scoped=true&\"\nimport script from \"./default.vue?vue&type=script&lang=ts&\"\nexport * from \"./default.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46afbe28\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}