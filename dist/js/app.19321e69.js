(function(e){function t(t){for(var r,i,u=t[0],s=t[1],l=t[2],c=0,p=[];c<u.length;c++)i=u[c],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==o[u]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},i={app:0},o={app:0},a=[];function u(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-012fd2d0":"2d087d56","chunk-01c89387":"9207b65e","chunk-393719fe":"a30baaad","chunk-5944bf3c":"9d458a72","chunk-7c0a5173":"9dbff103","chunk-882a59b6":"575d84ac","chunk-8b971dce":"b0762945","chunk-f81eaf38":"017ee7d6"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-882a59b6":1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise(function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-012fd2d0":"31d6cfe0","chunk-01c89387":"31d6cfe0","chunk-393719fe":"31d6cfe0","chunk-5944bf3c":"31d6cfe0","chunk-7c0a5173":"31d6cfe0","chunk-882a59b6":"cb0e1eb6","chunk-8b971dce":"31d6cfe0","chunk-f81eaf38":"31d6cfe0"}[e]+".css",o=s.p+r,a=document.getElementsByTagName("link"),u=0;u<a.length;u++){var l=a[u],c=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(c===r||c===o))return t()}var p=document.getElementsByTagName("style");for(u=0;u<p.length;u++){l=p[u],c=l.getAttribute("data-href");if(c===r||c===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||o,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete i[e],d.parentNode.removeChild(d),n(a)},d.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(d)}).then(function(){i[e]=0}));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise(function(t,n){r=o[e]=[t,n]});t.push(r[2]=a);var l,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=u(e);var p=new Error;l=function(t){c.onerror=c.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",p.name="ChunkLoadError",p.type=r,p.request=i,n[1](p)}o[e]=void 0}};var d=setTimeout(function(){l({type:"timeout",target:c})},12e4);c.onerror=c.onload=l,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var p=0;p<l.length;p++)t(l[p]);var d=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"2cdb":function(e,t,n){},"787b":function(e,t,n){"use strict";var r=n("7618"),i=(n("ac6a"),n("8bbf")),o=n.n(i),a=n("2638"),u=n.n(a),s=(n("c5f6"),{name:"BaseArrayComponent",props:{value:Array,cellSpan:{type:Number,default:12},addBtnText:String,addBtnProps:Object,maxLength:{type:Number,default:0},component:String},data:function(){return{current:this.value||[]}},watch:{value:function(e){this.current=e||[]},current:function(e){this.$emit("input",e),this.$emit("change",e)}},render:function(){var e=this,t=arguments[0],n=this.component,r=ee(),i=te(),o=[this.current.map(function(r,o){var a=t(n,u()([{},{attrs:Object.assign({},e.$attrs)},{model:{value:e.current[o],callback:function(t){e.$set(e.current,o,t)}}}]));return e.component===F?a:t(i,{attrs:{span:e.cellSpan}},[a])}),this.renderAddButton()];return this.component===F?t("div",[o]):t(r,{attrs:{gutter:this.$attrs.gutter||20,type:"flex"}},[o])},methods:{renderAddButton:function(){var e=this.$createElement,t=te(),n=ne();if(this.maxLength>0&&this.current.length>=this.maxLength)return null;var r={};this.addBtnProps&&this.addBtnProps.block&&(r.width="100%");var i=e(n,u()([{on:{click:this.onAddClick},style:r,attrs:{type:"primary"}},{attrs:Object.assign({},this.addBtnProps)}]),[this.addBtnText||"添加"]);return this.component===F?i:e(t,{attrs:{span:this.cellSpan}},[i])},onAddClick:function(){this.current.push(null)}}}),l=n("d225"),c=n("b0b4"),p=n("308d"),d=n("6bb5"),h=n("4e2b"),f=n("9ab4"),m=n("2fe1"),b=n("60a3"),v=function(e){function t(){return Object(l["a"])(this,t),Object(p["a"])(this,Object(d["a"])(t).apply(this,arguments))}return Object(h["a"])(t,e),Object(c["a"])(t,[{key:"render",value:function(){var e=arguments[0],t=this.value;return e("span",[t])}}]),t}(o.a);f["b"]([Object(b["a"])()],v.prototype,"value",void 0),v=f["b"]([Object(m["a"])({name:"DisplayField"})],v);var y=v,g=(n("6762"),n("2fdb"),function(e){function t(){return Object(l["a"])(this,t),Object(p["a"])(this,Object(d["a"])(t).apply(this,arguments))}return Object(h["a"])(t,e),Object(c["a"])(t,[{key:"render",value:function(){var e=this,t=arguments[0],n=this.definition,r=this.value,i=Q(n);if(r){var o=[];return o=this.definition.array?i.filter(function(t){return r.includes(t[e.valueProperty])}):i.filter(function(t){return r===t[e.valueProperty]}),t("span",[o.map(function(t){return t[e.LabelProperty]}).join("、")])}return t("span")}},{key:"valueProperty",get:function(){return this.definition.props.valueProperty||"value"}},{key:"LabelProperty",get:function(){return this.definition.props.labelProperty||"label"}}]),t}(o.a));f["b"]([Object(b["a"])()],g.prototype,"value",void 0),f["b"]([Object(b["a"])(Object)],g.prototype,"definition",void 0),g=f["b"]([Object(m["a"])({name:"SelectDisplayField"})],g);var k=g,j=function(e){function t(){return Object(l["a"])(this,t),Object(p["a"])(this,Object(d["a"])(t).apply(this,arguments))}return Object(h["a"])(t,e),Object(c["a"])(t,[{key:"render",value:function(){var e=arguments[0],t=this.value;if("time"===this.definition.type)return e("span",[this.value]);var n="YYYY-MM-DD HH:mm:ss";return"date"===this.definition.type&&(n="YYYY-MM-DD"),e("span",{directives:[{name:"time",value:t}],attrs:{format:n}})}}]),t}(o.a);f["b"]([Object(b["a"])()],j.prototype,"value",void 0),f["b"]([Object(b["a"])(Object)],j.prototype,"definition",void 0),j=f["b"]([Object(m["a"])({name:"TimeDisplayField"})],j);var O=j,x={name:"BaseOptionComponent",props:{options:Array,labelProperty:{type:String,default:"label"},valueProperty:{type:String,default:"value"}},render:function(){var e=this,t=arguments[0],n=this.component,r=this.optionComponent;return t(n,u()([{},{attrs:this.$attrs},{},{on:this.$listeners}]),[this.options.map(function(n){var i={};return i[e.labelProp]=ie(n,e.labelProperty),i[e.valueProp]=ie(n,e.valueProperty),t(r,u()([{},{props:i}]),["text"===e.labelProp?i[e.labelProp]:null])})])},computed:{labelProp:function(){return"label"},valueProp:function(){return"value"},component:function(){return""},optionComponent:function(){return""}}},_={mixins:[x],props:{button:Boolean},computed:{labelProp:function(){return"text"},valueProp:function(){return"label"},component:function(){return"el-checkbox-group"},optionComponent:function(){return this.button?"el-checkbox-button":"el-checkbox"}}},$={mixins:[x],props:{button:Boolean},computed:{labelProp:function(){return"text"},valueProp:function(){return"label"},component:function(){return"el-radio-group"},optionComponent:function(){return this.button?"el-radio-button":"el-radio"}}},P={mixins:[x],computed:{component:function(){return"el-select"},optionComponent:function(){return"el-option"}}},w={render:function(){var e=arguments[0];return e("span")}};n.d(t,"a",function(){return F}),n.d(t,"d",function(){return V}),n.d(t,"b",function(){return E}),n.d(t,"c",function(){return A}),n.d(t,"r",function(){return q}),n.d(t,"o",function(){return Y}),n.d(t,"p",function(){return U}),n.d(t,"s",function(){return H}),n.d(t,"q",function(){return G}),n.d(t,"h",function(){return z}),n.d(t,"j",function(){return K}),n.d(t,"m",function(){return Q}),n.d(t,"i",function(){return X}),n.d(t,"k",function(){return Z}),n.d(t,"n",function(){return ee}),n.d(t,"g",function(){return te}),n.d(t,"f",function(){return ne}),n.d(t,"e",function(){return re}),n.d(t,"l",function(){return ie});var S,V,F="ASchemaForm";(function(e){e["edit"]="edit",e["display"]="display"})(S||(S={})),function(e){e["url"]="url",e["string"]="string",e["datetime"]="datetime",e["time"]="time",e["select"]="select",e["date"]="date",e["integer"]="integer",e["double"]="double",e["boolean"]="boolean",e["expandSelect"]="expand-select",e["empty"]="empty",e["text"]="text",e["subForm"]="sub-form"}(V||(V={}));var C={display:{desktop:{},mobile:{}},edit:{desktop:{},mobile:{}}},E="desktop",A="mobile",L="d-form",B="d-row",T="d-col",D="d-button",I="a-alert",M=[],N=[],q=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return{}};R(e,t,n,r,i,!0)},Y=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return{}};R(e,t,n,r,i,!1)},R=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return{}},a=arguments.length>5?arguments[5]:void 0;if(Array.isArray(r))r.forEach(function(r){e(t,n,r,i,o,a)});else if(Array.isArray(n))n.forEach(function(n){e(t,n,r,i,o,a)});else{var u={component:t,platform:n,type:r,forArray:i,getProps:function(e){var t=o(e,n)||{};return e.title&&n===A&&(t.labelNumber=e.title.length>7?7:e.title.length),e.props&&Object.assign(t,e.props),t}},s=a?"display":"edit",l=C[s][n];l[r]||(l[r]={}),!0===i?l[r][1]=u:!1===i?l[r][2]=u:l[r][0]=u,a?N.push(u):M.push(u)}};function U(){console.log("注册Ant Design Vue表单组件"),L="d-form",B="d-row",T="d-col",D="d-button",I="a-alert",Y("d-input",E,[V.string,V.url],!1),Y("d-textarea",E,[V.text],!1),Y("d-date-picker",E,[V.date,V.datetime],!1,function(e){return{mode:e.type.toLowerCase()}}),Y("d-time-picker",E,[V.time],!1,function(e){return{mode:e.type.toLowerCase()}}),Y("d-input-number",E,[V.double,V.integer],!1),Y("d-switch",E,V.boolean),Y("d-select",E,V.select,null,function(e){return{dropdownMatchSelectWidth:!1,multiple:e.array}}),Y("d-checkbox-group",E,V.expandSelect,!0),Y("d-radio-group",E,V.expandSelect,!1),Y("d-color-picker",E,"color")}function H(){console.log("注册ElementUI表单组件"),L="el-form",B="el-row",T="el-col",D="el-button",I="el-alert",o.a.component("el-ext-select",P),o.a.component("el-ext-checkbox",_),o.a.component("el-ext-radio",$),Y("el-input",E,[V.string,V.url],!1),Y("el-input",E,[V.text],!1,function(){return{type:"textarea"}}),Y("el-date-picker",E,[V.datetime,V.date,V.time],!1,function(e){return{mode:e.type.toLowerCase()}}),Y("el-input-number",E,[V.double,V.integer],!1),Y("el-switch",E,[V.boolean],!1),Y("el-ext-select",E,[V.select],null,function(e){return{multiple:e.array}}),Y("el-ext-radio",E,[V.expandSelect],!1),Y("el-ext-checkbox",E,[V.expandSelect],!0)}function G(){console.log("注册Ant Design Mobile表单组件"),Y("m-input",A,[V.string,V.url],!1),Y("m-date-picker",A,[V.date,V.datetime,V.time],!1,function(e){return{mode:e.type.toLowerCase()}}),Y("m-input",A,[V.integer,V.double],!1,function(e){return{type:e.type.toLowerCase()===V.double?"digit":"number",textAlign:"right"}}),Y("m-textarea",A,[V.text],!1),Y("m-switch-item",A,[V.boolean],!1),Y("m-checkbox-popup-list",A,[V.select],!0),Y("m-radio-popup-list",A,[V.select],!1),Y("m-checkbox-list",A,[V.expandSelect],!0),Y("m-radio-list",A,[V.expandSelect],!1)}o.a.component("empty",w),o.a.component("BaseArrayComponent",s),q(O,[E,A],["datetime","date","time"]),q(y,[E,A],["string","text","url","integer","double"],!1),q(k,[E,A],["select","expand-select"],null),Y(F,[E,A],V.subForm,!1,function(e,t){return{platform:t,definition:{fields:e.fields}}}),q(F,[E,A],V.subForm,!1,function(e,t){return{platform:t,definition:{fields:e.fields}}});var W={component:"empty",getProps:function(e){return{}}};function J(e,t,n){var r=C[e][t][n.type];if(!r)return W;if(n.array){var i=W;return r[2]&&(i={component:"base-array-component",forArray:!0,type:n.type,platform:E,getProps:function(){return Object.assign({component:r[2].component,props:{title:n.title}},r[2].getProps(n))}}),r[1]||r[0]||i}return r[2]||r[0]}var z=function(e,t){return J(S.edit,e,t)},K=function(e,t){return J(S.display,e,t)},Q=function(e){return e.props&&e.props.options?"function"===typeof e.props.options?e.props.options()||[]:"object"===Object(r["a"])(e.props.options)?e.props.options||[]:void 0:[]},X=function(e){return e.array?[]:null},Z=function(e){return e===E?L:"m-list"},ee=function(){return B},te=function(){return T},ne=function(){return D},re=function(){return I},ie=function(e,t){return"string"===typeof e?e:"string"===typeof t?e[t]:"function"===typeof t?t(e):void 0}},"8bbf":function(e,t){e.exports=Vue},a4b1:function(e,t,n){},b71c:function(e,t,n){},beda:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d"),n("0fae");var r=n("8bbf"),i=n.n(r),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ae-layout",{attrs:{theme:"light"}},[n("ae-layout-header"),n("ae-layout",[n("ae-layout-sider",{staticStyle:{margin:"10px"},attrs:{width:"200px"}},[n("a-menu",[n("a-menu-item",[e._v("安装")]),n("a-menu-item",{on:{click:function(t){return e.to("/doc")}}},[e._v("使用")]),n("a-menu-item-group",{attrs:{title:"Element UI"}},[n("a-menu-item",{key:"element-desktop-edit",on:{click:function(t){return e.to("/demo/element/edit")}}},[e._v("编辑模式\n          ")]),n("a-menu-item",{key:"element-desktop-detail",on:{click:function(t){return e.$router.push("/demo/element/display")}}},[e._v("详情模式\n          ")])],1),n("a-menu-item-group",{attrs:{title:"Ant Design Vue"}},[n("a-menu-item",{key:"desktop-edit",on:{click:function(t){return e.to("/demo/desktop/edit")}}},[e._v("编辑模式\n          ")]),n("a-menu-item",{key:"desktop-detail",on:{click:function(t){return e.$router.push("/demo/desktop/display")}}},[e._v("详情模式\n          ")]),n("a-menu-item",{key:"desktop-validate",on:{click:function(t){return e.$router.push("/demo/desktop/validate")}}},[e._v("表单校验\n          ")])],1),n("a-menu-item-group",{attrs:{title:"移动端示例"}},[n("a-menu-item",{key:"mobile-edit",on:{click:function(t){return e.$router.push("/demo/mobile/edit")}}},[e._v("编辑模式\n          ")]),n("a-menu-item",{key:"mobile-display",on:{click:function(t){return e.$router.push("/demo/mobile/display")}}},[e._v("详情模式\n          ")])],1)],1)],1),n("ae-layout-content",{staticStyle:{margin:"10px 10px 10px 0"}},[n("router-view")],1)],1),n("ae-layout-footer")],1)},a=[],u=n("d225"),s=n("b0b4"),l=n("308d"),c=n("6bb5"),p=n("4e2b"),d=n("9ab4"),h=n("2fe1"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("h1",[e._v(e._s(e.msg))]),e._m(0),n("h3",[e._v("Installed CLI Plugins")]),e._m(1),n("h3",[e._v("Essential Links")]),e._m(2),n("h3",[e._v("Ecosystem")]),e._m(3)])},m=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("\n    For a guide and recipes on how to configure / customize this project,"),n("br"),e._v("\n    check out the\n    "),n("a",{attrs:{href:"https://cli.vuejs.org",rel:"noopener",target:"_blank"}},[e._v("vue-cli documentation")]),e._v(".\n  ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",rel:"noopener",target:"_blank"}},[e._v("babel")])]),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",rel:"noopener",target:"_blank"}},[e._v("eslint")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[n("a",{attrs:{href:"https://vuejs.org",rel:"noopener",target:"_blank"}},[e._v("Core Docs")])]),n("li",[n("a",{attrs:{href:"https://forum.vuejs.org",rel:"noopener",target:"_blank"}},[e._v("Forum")])]),n("li",[n("a",{attrs:{href:"https://chat.vuejs.org",rel:"noopener",target:"_blank"}},[e._v("Community Chat")])]),n("li",[n("a",{attrs:{href:"https://twitter.com/vuejs",rel:"noopener",target:"_blank"}},[e._v("Twitter")])]),n("li",[n("a",{attrs:{href:"https://news.vuejs.org",rel:"noopener",target:"_blank"}},[e._v("News")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[n("a",{attrs:{href:"https://router.vuejs.org",rel:"noopener",target:"_blank"}},[e._v("vue-router")])]),n("li",[n("a",{attrs:{href:"https://vuex.vuejs.org",rel:"noopener",target:"_blank"}},[e._v("vuex")])]),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",rel:"noopener",target:"_blank"}},[e._v("vue-devtools")])]),n("li",[n("a",{attrs:{href:"https://vue-loader.vuejs.org",rel:"noopener",target:"_blank"}},[e._v("vue-loader")])]),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",rel:"noopener",target:"_blank"}},[e._v("awesome-vue")])])])}],b={name:"HelloWorld",props:{msg:String}},v=b,y=(n("dace"),n("2877")),g=Object(y["a"])(v,f,m,!1,null,"ee507a8c",null),k=g.exports,j=function(e){function t(){return Object(u["a"])(this,t),Object(l["a"])(this,Object(c["a"])(t).apply(this,arguments))}return Object(p["a"])(t,e),Object(s["a"])(t,[{key:"to",value:function(e){return this.$router.push(e)}}]),t}(i.a);j=d["b"]([Object(h["a"])({name:"App",components:{HelloWorld:k}})],j);var O=j,x=O,_=(n("d44d"),Object(y["a"])(x,o,a,!1,null,null,null)),$=_.exports,P=n("ffb4"),w=(n("a4b1"),n("8c4f")),S=new w["a"]({routes:[{path:"/doc",component:function(){return n.e("chunk-882a59b6").then(n.bind(null,"1028"))}},{path:"/demo/element/display",component:function(){return n.e("chunk-5944bf3c").then(n.bind(null,"2501"))}},{path:"/demo/element/edit",component:function(){return n.e("chunk-01c89387").then(n.bind(null,"a813"))}},{path:"/demo/desktop/validate",component:function(){return n.e("chunk-8b971dce").then(n.bind(null,"b5c7"))}},{path:"/demo/desktop/display",component:function(){return n.e("chunk-7c0a5173").then(n.bind(null,"f630"))}},{path:"/demo/desktop/edit",component:function(){return n.e("chunk-f81eaf38").then(n.bind(null,"49b9"))}},{path:"/demo/mobile/display",component:function(){return n.e("chunk-393719fe").then(n.bind(null,"c3e4"))}},{path:"/demo/mobile/edit",component:function(){return n.e("chunk-012fd2d0").then(n.bind(null,"6c83"))}}]}),V=n("2f62");i.a.use(V["a"]);var F=new V["a"].Store({state:{},mutations:{},actions:{}});P["a"].registerAntdMobile(),new i.a({store:F,router:S,render:function(e){return e($)}}).$mount("#app")},d44d:function(e,t,n){"use strict";var r=n("beda"),i=n.n(r);i.a},dace:function(e,t,n){"use strict";var r=n("2cdb"),i=n.n(r);i.a},ffb4:function(e,t,n){"use strict";var r=n("2638"),i=n.n(r),o=n("d225"),a=n("b0b4"),u=n("308d"),s=n("6bb5"),l=n("4e2b"),c=n("9ab4"),p=n("8bbf"),d=n.n(p),h=n("2fe1"),f=n("60a3"),m=n("787b"),b=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(s["a"])(t).apply(this,arguments)),e.currentValue=null,e}return Object(l["a"])(t,e),Object(a["a"])(t,[{key:"currentValueChanged",value:function(e){this.$emit("input",e)}},{key:"valueChanged",value:function(e){this.currentValue!==e&&(this.currentValue=e)}},{key:"render",value:function(){var e=arguments[0],t=this.props,n=this.currentValue,r=this.definition,o=this.platform,a=this.componentType.component;this.display&&(t.definition=this.definition);var u=this.content?this.content:e(a,i()([{},{attrs:t},{attrs:{value:n,title:"mobile"===this.platform?r.title:null},on:{input:this.onInput}}])),s=null,l=Object(m["k"])(this.platform)+"-item",c=Object(m["g"])();if(o===m["b"]){var p=this.definition.type===m["d"].subForm?u:e(l,i()([{},{attrs:this.getFormItemProps()}]),[u,this.renderNotice()]);s=r.span?e(c,{attrs:{span:r.span}},[p]):"Extra"===r.type?u:p}else s=this.display?this.definition.type===m["d"].subForm?u:e("m-list-item",{attrs:{title:r.title,extra:u}}):u;return s}},{key:"onInput",value:function(e){this.$emit("input",e),this.$emit("change",e),this.$forceUpdate()}},{key:"renderNotice",value:function(){var e=this.$createElement,t=Object(m["e"])();if(this.definition.notice)return e(t,{attrs:{message:this.definition.notice}})}},{key:"getFormItemProps",value:function(){var e=this.definition;return{required:this.display?null:e.required,prop:this.validate?e.property:null,title:e.title,label:e.title}}},{key:"componentType",get:function(){var e=null;return e=this.display?Object(m["j"])(this.platform,this.definition):Object(m["h"])(this.platform,this.definition),"empty"===e.component&&console.warn("类型".concat(this.definition.type).concat(this.definition.array?"（数组）":"","没有对应的").concat(this.display?"展示":"编辑","组件")),e}},{key:"options",get:function(){return Object(m["m"])(this.definition)}},{key:"props",get:function(){var e=this.definition,t=Object.assign({},this.componentType.getProps(e)),n=e.type;return n!==m["d"].select&&n!==m["d"].expandSelect||(t.options=this.options),n===m["d"].subForm&&(t.platform=this.platform,t.mode=this.display?"display":"edit"),e.placeholder&&(t.placeholder=e.placeholder),this.display&&delete t.required,t}}]),t}(d.a);c["b"]([Object(f["a"])(Object)],b.prototype,"definition",void 0),c["b"]([Object(f["a"])(Object)],b.prototype,"formValue",void 0),c["b"]([Object(f["a"])({type:Boolean,default:!1})],b.prototype,"display",void 0),c["b"]([Object(f["a"])({type:String,default:"mobile"})],b.prototype,"platform",void 0),c["b"]([Object(f["a"])({type:Boolean,default:!1})],b.prototype,"validate",void 0),c["b"]([Object(f["a"])()],b.prototype,"value",void 0),c["b"]([Object(f["a"])()],b.prototype,"content",void 0),c["b"]([Object(f["b"])("currentValue")],b.prototype,"currentValueChanged",null),c["b"]([Object(f["b"])("value",{immediate:!0})],b.prototype,"valueChanged",null),b=c["b"]([Object(h["a"])({name:"FormField"})],b);var v,y=b,g=(n("456d"),n("6b54"),n("96cf"),n("6762"),n("2fdb"),n("7f7f"),n("ac6a"),n("28a5"),n("7618")),k=n("618f"),j=n.n(k),O=n("65de"),x=n.n(O),_=n("c832"),$=n.n(_);function P(e,t,n){var r=t.property,i=t.type;e[r]||(e[r]=[]);var o="string";if(t.array)o="array";else if(i===m["d"].integer)o="integer";else if(i===m["d"].double)o="number";else if(i===m["d"].subForm)o="object";else if(i===m["d"].date||i===m["d"].datetime)o="date";else if(i===m["d"].select||i===m["d"].expandSelect){var a=Object(m["m"])(t);a.length&&(o=Object(g["a"])(Object(m["l"])(a[0],t.props&&t.props.valueProperty||"value")))}n.type=o,e[r].push(n)}var w=v=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(s["a"])(t).apply(this,arguments)),e.currentValue=null,e}return Object(l["a"])(t,e),Object(a["a"])(t,[{key:"currentValueChanged",value:function(e){this.$emit("input",e),this.$emit("change",e)}},{key:"definitionsChanged",value:function(){var e=this.currentValue,t=this.value;this.definition.array?j()(e,t).concat(j()(t,e)).length>0&&this.buildExtraProperties():x()(e,t)||this.buildExtraProperties()}},{key:"platformChanged",value:function(){this.$forceUpdate()}},{key:"modeChanged",value:function(){this.$forceUpdate()}},{key:"valueChanged",value:function(e){if(e!==this.currentValue){var t=this.currentValue;this.definition.array?j()(t,e).concat(j()(e,t)).length>0&&(this.currentValue=e||[],this.buildExtraProperties()):x()(t,e)||(this.currentValue=e||{},this.buildExtraProperties())}else e||(this.currentValue={},this.buildExtraProperties())}},{key:"created",value:function(){this.value?this.definition.array?this.value.length?this.currentValue=this.value:this.currentValue=[{}]:this.currentValue=this.value:this.currentValue=this.definition.array?[{}]:{},this.buildExtraProperties()}},{key:"setDefaultValue",value:function(e,t,n){var r=this,i=t,o=e.split(".");o.forEach(function(e,t){t<o.length-1?(i[e]||r.$set(i,e,{}),i=i[e]):i[e]=Object(m["i"])(n)})}},{key:"buildExtraProperties",value:function(){var e=this,t=this.value,n=this.currentValue;this.realFields.forEach(function(r){var i=r.property;if(e.definition.array)n.forEach(function(n){i.includes(".")?e.setDefaultValue(i,n,r):n&&void 0!==n[i]?t&&t.length&&e.$set(n,i,t[0][r.property]):e.$set(n,i,Object(m["i"])(r))});else{var o=n;i.includes(".")?e.setDefaultValue(i,o,r):o&&void 0!==o[i]?t&&e.$set(o,i,t[r.property]):e.$set(o,i,Object(m["i"])(r))}})}},{key:"render",value:function(){var e=arguments[0];return e("div",{class:"schema-form"},[this.$slots.header,this.definition.array?this.renderTitle():null,this.renderFields(),this.renderAddFormButton(),this.renderButtons(),this.$slots.footer])}},{key:"renderButtons",value:function(){var e=this,t=this.$createElement,n=this.props,r=Object(m["f"])();if(n&&"edit"===this.mode)return this.$slots.btns?this.$slots.btns:"mobile"===this.platform?t("div",{class:"action-btns"},[this.hasListener("ok")?t("m-white-space"):null,this.hasListener("ok")?t("m-button",i()([{attrs:{type:"primary"}},{attrs:n&&n.okProps},{on:{click:function(){e.onOk()}}}]),[n&&n.okText||"保存"]):null,this.hasListener("cancel")?t("m-white-space"):null,this.hasListener("cancel")?t("m-button",i()([{on:{click:function(){e.$emit("cancel")}}},{attrs:n&&n.cancelProps}]),[n&&n.cancelText||"取消"]):null,this.hasListener("cancel")?t("m-white-space"):null,this.hasListener("reset")?t("m-button",i()([{attrs:{type:"error"},on:{click:function(){e.$emit("reset")}}},{attrs:n&&n.resetProps}]),[n&&n.resetText||"重置"]):null]):t("div",{class:"action-btns"},[this.hasListener("cancel")?t(r,i()([{on:{click:function(){e.$emit("cancel")}},class:"cancel-btn"},{attrs:n&&n.cancelProps}]),[n&&n.cancelText||"取消"]):null,this.hasListener("ok")?t(r,i()([{attrs:{type:"primary"},class:"confirm-btn"},{attrs:n&&n.okProps},{on:{click:function(){e.onOk()}}}]),[n&&n.okText||"保存"]):null,this.hasListener("reset")?t(r,i()([{attrs:{type:"danger"},class:"reset-btn"},{attrs:n&&n.resetProps},{on:{click:function(){e.$emit("reset",e.currentValue)}}}]),[n&&n.resetText||"重置"]):null])}},{key:"renderTitle",value:function(){var e=this.$createElement;return this.$slots.title?this.$slots.title:this.props&&this.title?e("h2",{class:"form-title"},[this.title]):void 0}},{key:"onOk",value:function(){return c["a"](this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.hasListener("ok")){e.next=9;break}if(!(this.form&&this.validateRules&&this.form.validate)){e.next=8;break}return e.next=4,this.form.validate();case 4:t=e.sent,t?this.$emit("ok",this.currentValue):this.$message.error("表单数据有误"),e.next=9;break;case 8:this.$emit("ok",this.currentValue);case 9:case"end":return e.stop()}},e,this)}))}},{key:"getGroups",value:function(e){var t=this,n=[],r=[],i=!1;return this.realFields.forEach(function(o,a){var u=t.renderField(o,e,a);o.span?(i?(r[r.length-1].push(o.span),n[n.length-1].push(u)):(r.push([o.span]),n.push([u])),i=!0):(i=!1,r.push([]),n.push([u]))}),n}},{key:"calcShowState",value:function(e){var t=this;return!e.depends||("function"===typeof e.depends?e.depends(this.currentValue):!e.depends.map(function(e){return t.matchCondition(e)}).some(function(e){return!e}))}},{key:"matchCondition",value:function(e){if(!this.currentValue)return!1;var t=this.currentValue[e.property],n=e.value;if(null===t||void 0===t){switch(e.operator){case"in":return n.includes(t);case"notIn":return!n.includes(t)}return!1}switch(e.operator){case"=":return n.toString()===t.toString();case"<":return parseFloat(t)<parseFloat(n);case">":return parseFloat(t)>parseFloat(n);case">=":return parseFloat(t)>=parseFloat(n);case"<=":return parseFloat(t)<=parseFloat(n);case"in":return n.includes(t);case"notIn":return!n.includes(t)}return!0}},{key:"renderField",value:function(e,t,n){var r=this,i=this.$createElement,o=this.platform,a=null;a=e.property.includes(".")?v.getPropertyValueByPath(e.property.substr(0,e.property.lastIndexOf(".")),t):t,e.type!==m["d"].subForm||e.props&&e.props.props||(e.props?e.props.props=this.props:e.props={props:this.props});var u=e.property.substr(e.property.lastIndexOf(".")+1);return this.calcShowState(e)?i(y,{attrs:{validate:!(!this.props||!this.validateRules),display:"display"===this.mode,content:this.$slots[e.slot],definition:e,formValue:t,platform:o},key:"field-"+e.property+"-"+n,on:{change:function(t){r.onFieldValueChange(t,e)}},model:{value:a[u],callback:function(e){r.$set(a,u,e)}}}):null}},{key:"renderFields",value:function(){var e=this;return this.definition.array?this.currentValue.map(function(t){return e.renderSingleFields(t)}):this.renderSingleFields(this.currentValue)}},{key:"renderSingleFields",value:function(e){var t=this,n=this.$createElement,r=this.props,o=Object(m["k"])(this.platform),a=this.getGroups(e),u=Object.assign({},r);return u.title=this.isMobile?this.$slots.title||this.title:null,u.model=e,u.rules=this.validateRules,u.inline=this.inline,n(o,i()([{},{attrs:u},{ref:"form"},{on:this.$listeners}]),[this.$slots.prepend,!this.definition.array&&this.isDesktop?this.renderTitle():null,r&&r.inline?a.reduce(function(e,t){return e.concat(t)}):a.map(function(e){return t.wrapGroup(e)}),this.renderDeleteSubFormButton(e),this.$slots.append])}},{key:"renderAddFormButton",value:function(){var e=this,t=this.$createElement,n=Object(m["f"])();if(this.definition.array&&"edit"===this.mode)return t(n,{attrs:{block:!0,icon:"plus"},class:"m-b",on:{click:function(){e.addSubItem()}}},["新增一条"])}},{key:"addSubItem",value:function(){this.currentValue.push({}),this.buildExtraProperties()}},{key:"renderDeleteSubFormButton",value:function(e){var t=this,n=this.$createElement,r=Object(m["f"])();return this.definition.array&&this.currentValue.length>1?n("div",{class:"delete-profile-enhan"},[n(r,{on:{click:function(){t.currentValue.splice(t.currentValue.indexOf(e),1)}},attrs:{text:!0,icon:"delete",type:"danger"}},["删除该条"])]):null}},{key:"wrapGroup",value:function(e){var t=this.$createElement,n=Object(m["n"])(),r=this.props;return this.isMobile||1===e.length?e:t(n,{attrs:{gutter:r&&r.gutter||0}},[e])}},{key:"hasListener",value:function(e){return!!this.$listeners[e]}},{key:"onFieldValueChange",value:function(e,t){this.$emit("change",this.currentValue)}},{key:"realFields",get:function(){return this.definition.fields.filter(function(e){return null!==e&&void 0!==e})}},{key:"form",get:function(){return this.$refs.form}},{key:"isMobile",get:function(){return this.platform===m["c"]}},{key:"isDesktop",get:function(){return this.platform===m["b"]}},{key:"validateRules",get:function(){if(this.rules)return this.rules;var e={};return this.definition.fields.map(function(t){t.required&&P(e,t,{required:!0,message:"".concat(t.title,"为必填项")}),"number"===typeof t.min&&P(e,t,{min:t.min,message:"".concat(t.title,"不能小于").concat(t.min)}),"number"===typeof t.max&&P(e,t,{max:t.max,message:"".concat(t.title,"不能大于").concat(t.max)})}),Object.keys(e).length?e:null}}],[{key:"getPropertyValueByPath",value:function(e,t){return $()(t,e)}}]),t}(d.a);w.registerAntd=m["p"],w.registerAntdMobile=m["q"],w.registerElement=m["s"],w.registerComponent=m["o"],w.registerDisplayComponent=m["r"],c["b"]([Object(f["a"])(Object)],w.prototype,"definition",void 0),c["b"]([Object(f["a"])({type:String,default:"desktop"})],w.prototype,"platform",void 0),c["b"]([Object(f["a"])({type:Object,default:function(){return{}}})],w.prototype,"props",void 0),c["b"]([Object(f["a"])([Array,Object])],w.prototype,"value",void 0),c["b"]([Object(f["a"])({type:String,default:"edit"})],w.prototype,"mode",void 0),c["b"]([Object(f["a"])({type:Boolean,default:!1})],w.prototype,"inline",void 0),c["b"]([Object(f["a"])(Object)],w.prototype,"rules",void 0),c["b"]([Object(f["a"])()],w.prototype,"title",void 0),c["b"]([Object(f["b"])("currentValue",{deep:!0})],w.prototype,"currentValueChanged",null),c["b"]([Object(f["b"])("definitions")],w.prototype,"definitionsChanged",null),c["b"]([Object(f["b"])("platform")],w.prototype,"platformChanged",null),c["b"]([Object(f["b"])("definition.mode")],w.prototype,"modeChanged",null),c["b"]([Object(f["b"])("value",{immediate:!0,deep:!0})],w.prototype,"valueChanged",null),w=v=c["b"]([Object(h["a"])({name:m["a"]})],w);var S=w;n("b71c");S.Field=y,S.install=function(e){e.component("ASchemaForm",S),e.component("ASchemaFormField",S.Field)};var V=S;window.Vue&&window.Vue.use(V);t["a"]=V}});
//# sourceMappingURL=app.19321e69.js.map